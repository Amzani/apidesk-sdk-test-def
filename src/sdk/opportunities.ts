/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { crmOpportunitiesCreate } from "../funcs/crmOpportunitiesCreate.js";
import { crmOpportunitiesDelete } from "../funcs/crmOpportunitiesDelete.js";
import { crmOpportunitiesGet } from "../funcs/crmOpportunitiesGet.js";
import { crmOpportunitiesList } from "../funcs/crmOpportunitiesList.js";
import { crmOpportunitiesUpdate } from "../funcs/crmOpportunitiesUpdate.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";
import { PageIterator, unwrapResultIterator } from "../types/operations.js";

export class Opportunities extends ClientSDK {
  /**
   * Retrieve a list of CRM opportunities.
   *
   * @remarks
   * The `opportunitiesAll` operation allows developers to retrieve a comprehensive list of opportunities from the CRM system. This GET request is essential for accessing sales opportunities data, enabling users to analyze and manage potential deals effectively.
   *
   * Key Parameters:
   * - `x-apideck-consumer-id` (header, required): Identifies the consumer for data retrieval.
   * - `x-apideck-app-id` (header, required): Specifies the Unify application ID.
   * - `x-apideck-service-id` (header, optional): Indicates the service ID for specific integrations.
   * - `cursor` (query): Used for pagination to navigate through results.
   * - `limit` (query): Defines the number of results per page, with a default of 20 and a maximum of 200.
   * - `fields` (query): Allows selection of specific fields to include in the response, optimizing data retrieval.
   *
   * Response Behavior:
   * The operation returns a JSON object containing the list of opportunities, with pagination support through cursors. This enables efficient data handling and integration into applications, providing a streamlined approach to managing CRM opportunities.
   */
  async list(
    request: operations.CrmOpportunitiesAllRequest,
    options?: RequestOptions,
  ): Promise<
    PageIterator<operations.CrmOpportunitiesAllResponse, { cursor: string }>
  > {
    return unwrapResultIterator(crmOpportunitiesList(
      this,
      request,
      options,
    ));
  }

  /**
   * Add a new opportunity to the CRM system.
   *
   * @remarks
   * The `opportunitiesAdd` operation allows developers to create a new opportunity within the CRM system by sending a POST request to the `/crm/opportunities` endpoint. This operation is essential for managing sales pipelines and tracking potential deals.
   *
   * Key Parameters:
   * - `x-apideck-consumer-id` (header, required): Specifies the consumer ID for data interaction.
   * - `x-apideck-app-id` (header, required): Identifies the Unify application in use.
   * - `x-apideck-service-id` (header, optional): Indicates the specific service ID to call, necessary when multiple integrations are active.
   * - `raw` (query, optional): Determines if the raw response should be included, useful for debugging.
   *
   * Upon successful creation, the operation returns a `201` status code along with a JSON object containing the unique identifier of the newly created opportunity, confirming the addition to the CRM system.
   */
  async create(
    request: operations.CrmOpportunitiesAddRequest,
    options?: RequestOptions,
  ): Promise<operations.CrmOpportunitiesAddResponse> {
    return unwrapAsync(crmOpportunitiesCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * Retrieve a specific CRM opportunity by its ID.
   *
   * @remarks
   * The 'opportunitiesOne' operation allows developers to fetch detailed information about a specific opportunity within the CRM system by providing its unique ID. This operation is essential for accessing and managing individual opportunity records, enabling users to view and analyze specific sales opportunities.
   *
   * Key Parameters:
   * - **id** (path): The unique identifier of the opportunity record to retrieve. This parameter is mandatory.
   * - **x-apideck-consumer-id** (header): Required to specify the consumer ID for data retrieval.
   * - **x-apideck-app-id** (header): Required to identify the Unify application making the request.
   * - **x-apideck-service-id** (header): Optional parameter to specify the service ID when multiple integrations are active.
   * - **raw** (query): Optional parameter to include the raw response, useful for debugging.
   * - **fields** (query): Optional parameter to specify which fields to include in the response, allowing for customized data retrieval.
   *
   * Response Behavior:
   * This operation returns a JSON object representing the opportunity resource, including all requested fields. The response will include a status code of 200 upon successful retrieval of the opportunity data. This operation does not modify any data, ensuring that the integrity of the CRM records is maintained.
   */
  async get(
    request: operations.CrmOpportunitiesOneRequest,
    options?: RequestOptions,
  ): Promise<operations.CrmOpportunitiesOneResponse> {
    return unwrapAsync(crmOpportunitiesGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Update an existing opportunity in the CRM system.
   *
   * @remarks
   * The `opportunitiesUpdate` operation allows developers to modify an existing opportunity record within the CRM system. This operation is crucial for maintaining up-to-date information on sales opportunities, enabling businesses to track and manage their sales pipeline effectively.
   *
   * Key Parameters:
   * - `id` (path): The unique identifier of the opportunity record to be updated. This parameter is mandatory.
   * - `x-apideck-consumer-id` (header): Required to specify the consumer ID for data retrieval or submission.
   * - `x-apideck-app-id` (header): Identifies the Unify application in use.
   * - `x-apideck-service-id` (header): Optional parameter to specify the service ID when multiple integrations are active.
   * - `raw` (query): Optional parameter to include raw response data, useful for debugging.
   *
   * Upon successful execution, the operation returns a status code of 200, along with a JSON object representing the updated opportunity resource. This response includes the unique identifier of the updated resource, confirming the successful modification of the opportunity record. The operation ensures that the CRM data remains current and reflective of the latest sales activities.
   */
  async update(
    request: operations.CrmOpportunitiesUpdateRequest,
    options?: RequestOptions,
  ): Promise<operations.CrmOpportunitiesUpdateResponse> {
    return unwrapAsync(crmOpportunitiesUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete an existing opportunity record in the CRM.
   *
   * @remarks
   * The `opportunitiesDelete` operation allows developers to remove an existing opportunity record from the CRM system. This operation is crucial for maintaining accurate and up-to-date records by enabling the deletion of opportunities that are no longer relevant or were created in error.
   *
   * ### Key Parameters:
   * - **id (path parameter)**: The unique identifier of the opportunity record to be deleted. This parameter is mandatory.
   * - **x-apideck-consumer-id (header)**: Required to specify the consumer ID from which data is being managed.
   * - **x-apideck-app-id (header)**: The ID of the Unify application making the request, also required.
   * - **x-apideck-service-id (header)**: Optional parameter to specify the service ID when multiple integrations are active.
   * - **raw (query parameter)**: Optional flag to include raw response data, useful for debugging.
   *
   * ### Response Behavior:
   * Upon successful deletion, the API returns a status code of 200, indicating that the opportunity record has been successfully removed. No content is returned in the response body, aligning with standard practices for delete operations.
   */
  async delete(
    request: operations.CrmOpportunitiesDeleteRequest,
    options?: RequestOptions,
  ): Promise<operations.CrmOpportunitiesDeleteResponse> {
    return unwrapAsync(crmOpportunitiesDelete(
      this,
      request,
      options,
    ));
  }
}
